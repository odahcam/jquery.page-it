(function(t,e,a,r){var i="pageIt",n={log:function(){console.log(i+": "+arguments[0],Array.prototype.slice.call(arguments,1))},info:function(){console.info(i+": "+arguments[0],Array.prototype.slice.call(arguments,1))},warn:function(){console.warn(i+": "+arguments[0],Array.prototype.slice.call(arguments,1))},error:function(){console.error(i+": "+arguments[0],Array.prototype.slice.call(arguments,1))}};if(!t)return n.error("Não foi possível reconhecer o jQuery, inicialização cancelada!"),!1;var s={size:null,first:1,prev:null,current:null,next:null,last:null,total:null},o={autoStart:!1,cache:!0,dataType:"json",ajax:{url:"",cache:!1,global:!0},target:null,meta:s};return e[i]=function(e){return this.settings=t.extend(!0,{},o,e),this.events={ready:[],"page.load.empty":[],"page.load.loaded":[],"page.load.autoupdated":[],"page.load.skipped":[],"page.load.first":[],"page.load.last":[],"page.load.error":[],"page.load.before":[],"page.load.after":[],"page.load.cache":[],"page.filled":[],"page.first":[],"page.prev":[],"page.next":[],"page.last":[]},this.pages=[],this.requesting=!1,this.meta=this.settings.meta,this.meta.current&&this.setCurrent(this.meta.current),this.requestData={},this.init()},Object.assign(e[i].prototype,{init:function(){this.trigger("ready"),this.settings.autoStart&&this.to(this.meta.current)},to:function(t){if(this.requesting===!0)return n.warn("Uma requisição de página já está em andamento, esta requisição será ignorada."),!1;if(!t||this.meta.last&&t>this.meta.last)return this.trigger("page.load.skipped",{}),this.trigger("page.load.last",{}),!1;if("string"==typeof t&&"next"===t||"prev"===t)return this[t]();if(this.settings.cache&&this.pages[t])this.pages[t]?(this.fillContainer(this.pages[t]),this.trigger("page.load.loaded",this.pages[t]),this.trigger("page.load.cache",this.pages[t])):this.trigger("page.load.empty",this.pages[t]);else{this.requestData={page:t},this.trigger("page.load.before",this);var e=this;this.requesting=!0;var a=new XMLHttpRequest;0==this.settings.ajax.cache&&a.setRequestHeader("Cache-Control","no-cache"),a.addEventListener("load",function(r,i,n){a.readyState==XMLHttpRequest.DONE&&200==a.status&&(e.pages[t]=r.content,e.setCurrent(t),r.meta&&e.setMeta(r.meta),r.content?(e.trigger("page.load.loaded",r),e.fillContainer(r.content)):e.trigger("page.load.empty",r)),e.trigger("page.load.after",e),e.requesting=!1,console.groupEnd()},!1),a.addEventListener("error",function(t){n.error("Erro ao carregar página."),console.log(t),e.trigger("page.load.error",t),e.trigger("page.load.after",e),e.requesting=!1,console.groupEnd()},!1),a.addEventListener("abort",function(){e.trigger("page.load.abort",response),e.trigger("page.load.after",e),e.requesting=!1,console.groupEnd()},!1),a.open("GET",this.settings.ajax.url),a.send(null)}return this},fillContainer:function(e){this.settings.target?t(this.settings.target).html(e)&&this.trigger("page.load.autoupdated",e):n.warn("No container set, no data will be auto inserted.")},first:function(){return this.trigger("page.first",this.meta.first),this.to(this.meta.first)},prev:function(){return this.trigger("page.prev",this.meta.next),this.to(this.meta.prev)},next:function(){return this.trigger("page.next",this.meta.next),this.to(this.meta.next)},last:function(){return this.trigger("page.last",this.meta.last),this.to(this.meta.last)},on:function(t,e){if(t.match(" "))eventname.split(" ").forEach(function(t){this.on(t,e)});else{if(!this.events[t])throw n.warn("Evento indisponível."),new Error("Can't attach unrecognized event handler.");this.events[t].push(e)}return this},off:function(t,e){if(t.match(" "))eventname.split(" ").forEach(function(t){this.off(t,e)});else{if(!this.events[t])throw n.warn("Evento indisponível."),new Error("Can't remove unrecognized event handler.");this.events[t]=[]}return this},trigger:function(t){if(this.events[t]&&this.events[t].length){var e=this,a=arguments;this.events[t].map(function(t){t.apply(e,Array.prototype.slice.call(a,1))})}return this},setMeta:function(t){Object.assign(this.meta,t)},setRequestData:function(t){Object.assign(this.requestData,t)},setCurrent:function(t){this.meta.current=t,this.meta.prev=t-1,this.meta.next=t+1}}),e[i]})(window.jQuery||!1,window,document);