(function(d,f,h,e){if(!d)return console.error("pageIt: N\u00e3o foi poss\u00edvel reconhecer o jQuery, inicializa\u00e7\u00e3o cancelada!"),!1;var g={url:"",method:"get",initPage:1,cacheAjax:!1,cachePagination:!0,contentView:null,urlMeta:"",pageMeta:{first:1,prev:e,current:e,next:e,last:e,total:e}};f.pageIt=function(a){this.settings=d.extend(!0,{},g,a);this.events={};this.pages=[];this.pageMeta=this.settings.pageMeta;this.pageMeta.prev=this.settings.initPage-1;this.pageMeta.current=this.settings.initPage;
this.pageMeta.next=this.settings.initPage+1;this.requestData={};return this.init()};d.extend(f.pageIt.prototype,{init:function(){this.settings.initPage&&this.to(this.settings.initPage);this.trigger("pageIt.ready")},to:function(a){if(!a||a>this.pageMeta.last)return this;if("string"===typeof a&&"next"===a||"prev"===a)return this[a]();if(this.settings.cachePagination&&this.pages[a])this.pages[a].content?(this.settings.contentView&&(this.settings.contentView.innerHTML=this.pages[a].content,this.trigger("page.filled",
this.pages[a])),this.trigger("page.content.loaded",this.pages[a]),this.trigger("page.loaded.cache",this.pages[a])):this.trigger("page.content.empty",this.pages[a]);else{this.requestData={};this.requestData.pageIndex=a;this.trigger("page.load.before",this.requestData);var b=this;d.ajax({cache:this.settings.cache,url:this.settings.url,method:this.settings.method,data:this.requestData,success:function(c){b.pages[a]=c;b.pageMeta.prev=a-1;b.pageMeta.current=a;b.pageMeta.next=a+1;b.trigger("page.content.loaded",
c);c?b.settings.contentView?d(b.settings.contentView).html(c)&&b.trigger("page.filled",c):console.warn("No container set, no data will be auto inserted."):b.trigger("page.content.empty",c)},error:function(a){console.error("Erro ao carregar p\u00e1gina.");console.log(a)},complete:function(a){b.trigger("page.load.after",a);console.groupEnd()}})}return this},first:function(){this.trigger("page.first",this.pageMeta.first);return this.to(this.pageMeta.first)},prev:function(){this.trigger("page.prev",this.pageMeta.next);
return this.to(this.pageMeta.prev)},next:function(){this.trigger("page.next",this.pageMeta.next);return this.to(this.pageMeta.next)},last:function(){this.trigger("page.last",this.pageMeta.last);return this.to(this.pageMeta.last)},on:function(a,b){this.events[a]?this.events[a].push(b):this.events[a]=[b];return this},trigger:function(a){if(this.events[a]&&this.events[a].length){var b=this,c=arguments;this.events[a].map(function(a){a.apply(b,Array.prototype.slice.call(c,1))})}return this},setData:function(a){d.extend(this.requestData,
a)}});return f.pageIt})(window.jQuery||!1,window,document);
