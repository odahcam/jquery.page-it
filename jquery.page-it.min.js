!function(t,e,i,a){var n={log:function(){console.log("pageIt: "+arguments[0],Array.prototype.slice.call(arguments,1))},info:function(){console.info("pageIt: "+arguments[0],Array.prototype.slice.call(arguments,1))},warn:function(){console.warn("pageIt: "+arguments[0],Array.prototype.slice.call(arguments,1))},error:function(){console.error("pageIt: "+arguments[0],Array.prototype.slice.call(arguments,1))}};if(!t)return n.error("pageIt: Não foi possível reconhecer o jQuery, inicialização cancelada!"),!1;Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,a=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)if(n in e&&t.call(a,e[n],n,e))return!0;return!1});var s={size:null,first:1,prev:null,current:null,next:null,last:null,total:null},r={initPage:null,cache:!0,url:"",method:"get",dataType:"json",ajax:{cache:!1,global:!0},contentView:null,meta:s};e.pageIt=function(e){return this.settings=t.extend(!0,{},r,e),this.events={ready:[],"page.load.empty":[],"page.load.loaded":[],"page.load.autoupdated":[],"page.load.skipped":[],"page.load.first":[],"page.load.last":[],"page.load.error":[],"page.load.before":[],"page.load.after":[],"page.load.cache":[],"page.filled":[],"page.first":[],"page.prev":[],"page.next":[],"page.last":[]},this.pages=[],this.requesting=!1,this.meta=this.settings.meta,this.meta.prev=this.settings.initPage-1,this.meta.current=this.settings.initPage,this.meta.next=this.settings.initPage+1,this.requestData={},this.init()},t.extend(e.pageIt.prototype,{init:function(){this.trigger("ready"),this.settings.initPage&&this.to(this.settings.initPage)},to:function(e){if(!0===this.requesting)return n.warn("Uma requisição de página já está em andamento, esta requisição será ignorada."),!1;if(!e||this.meta.last&&e>this.meta.last)return this.trigger("page.load.skipped",{}),this.trigger("page.load.last",{}),!1;if("string"==typeof e&&"next"===e||"prev"===e)return this[e]();if(this.settings.cache&&this.pages[e])this.pages[e].content?(this.settings.contentView&&(this.settings.contentView.innerHTML=this.pages[e].content,this.trigger("page.filled",this.pages[e])),this.trigger("page.load.loaded",this.pages[e]),this.trigger("page.load.cache",this.pages[e])):this.trigger("page.load.empty",this.pages[e]);else{this.requestData={},this.requestData.pageIndex=e,this.trigger("page.load.before",this.requestData);var i=this;this.requesting=!0,t.ajax({cache:this.settings.ajax.cache,global:this.settings.ajax.global,url:this.settings.url,method:this.settings.method,data:this.requestData,dataType:this.settings.dataType,success:function(a,s,r){i.pages[e]=a.content,i.meta.prev=e-1,i.meta.current=e,i.meta.next=e+1,a.meta&&i.setMeta(a.meta),a.content?(i.trigger("page.load.loaded",a),i.settings.contentView?t(i.settings.contentView).html(a.content)&&i.trigger("page.load.autoupdated",a):n.warn("No container set, no data will be auto inserted.")):i.trigger("page.load.empty",a)},error:function(t){n.error("Erro ao carregar página."),console.log(t),i.trigger("page.load.error",t)},complete:function(t){i.requesting=!1,i.trigger("page.load.after",t),console.groupEnd()}})}return this},first:function(){return this.trigger("page.first",this.meta.first),this.to(this.meta.first)},prev:function(){return this.trigger("page.prev",this.meta.next),this.to(this.meta.prev)},next:function(){return this.trigger("page.next",this.meta.next),this.to(this.meta.next)},last:function(){return this.trigger("page.last",this.meta.last),this.to(this.meta.last)},on:function(t,e){if(t.match(" "))eventname.split(" ").forEach(function(t){this.on(t,e)});else{if(!this.events[t])throw n.warn("Evento indisponível."),new Error("Can't attach unrecognized event handler.");this.events[t].some(function(t){return t===e})||this.events[t].indexOf(e);this.events[t].push(e)}return this},trigger:function(t){if(this.events[t]&&this.events[t].length){var e=this,i=arguments;this.events[t].map(function(t){t.apply(e,Array.prototype.slice.call(i,1))})}return this},setData:function(e){t.extend(this.requestData,e)},setMeta:function(e){t.extend(this.meta,e)}}),e.pageIt}(window.jQuery||!1,window,document);