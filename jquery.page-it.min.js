(function(c,f,h,e){if(!c)return console.error("pageIt: N\u00e3o foi poss\u00edvel reconhecer o jQuery, inicializa\u00e7\u00e3o cancelada!"),!1;var g={url:"",method:"get",dataType:"html",initPage:1,cacheAjax:!1,cachePagination:!0,contentView:null,urlMeta:"",pageMeta:{first:1,prev:e,current:e,next:e,last:e,total:e}};f.pageIt=function(a){this.settings=c.extend(!0,{},g,a);this.events={};this.pages=[];this.pageMeta=this.settings.pageMeta;this.pageMeta.prev=this.settings.initPage-1;this.pageMeta.current=
this.settings.initPage;this.pageMeta.next=this.settings.initPage+1;this.pageLoadData={};return this.init()};c.extend(Pagination.prototype,{init:function(){this.settings.initPage&&this.to(this.settings.initPage);this.trigger("pageIt.ready")},to:function(a){if(!a||a>this.pageMeta.last)return this;if("string"===typeof a&&"next"===a||"prev"===a)return this[a]();if(this.settings.cachePagination&&this.pages[a])this.pages[a].content?(this.settings.contentView&&(this.settings.contentView.innerHTML=this.pages[a].content,
this.trigger("page.filled",this.pages[a])),this.trigger("page.content.loaded",this.pages[a]),this.trigger("page.loaded.cache",this.pages[a])):this.trigger("page.content.empty",this.pages[a]);else{this.pageLoadData={};this.pageLoadData.pageIndex=a;this.trigger("page.load.before",this.pageLoadData);var b=this;c.ajax({cache:this.settings.cache,url:this.settings.url,method:this.settings.method,data:this.pageLoadData,dataType:this.settings.dataType,success:function(d){b.pages[a]=d;b.pageMeta.prev=a-1;
b.pageMeta.current=a;b.pageMeta.next=a+1;b.trigger("page.content.loaded",d);d?"html"===b.settings.dataType&&b.settings.contentView?c(b.settings.contentView).html(d)&&b.trigger("page.filled",d):console.warn("No container set, no data will be auto inserted."):b.trigger("page.content.empty",d)},error:function(a){console.error("Erro ao carregar p\u00e1gina.");console.log(a)},complete:function(a){b.trigger("page.load.after",a);console.groupEnd()}})}return this},first:function(){this.trigger("page.first",
this.pageMeta.first);return this.to(this.pageMeta.first)},prev:function(){this.trigger("page.prev",this.pageMeta.next);return this.to(this.pageMeta.prev)},next:function(){this.trigger("page.next",this.pageMeta.next);return this.to(this.pageMeta.next)},last:function(){this.trigger("page.last",this.pageMeta.last);return this.to(this.pageMeta.last)},on:function(a,b){this.events[a]?this.events[a].push(b):this.events[a]=[b];return this},trigger:function(a){if(this.events[a]&&this.events[a].length){var b=
this,c=arguments;this.events[a].map(function(a){a.apply(b,Array.prototype.slice.call(c,1))})}return this},updateMeta:function(){var a=this;c.ajax({cache:!1,url:this.settings.urlMeta,method:this.settings.method,data:this.pageMeta,dataType:"json",success:function(b){a.trigger("page.meta.loaded",b);b?(c.extend(!0,a.pageMeta,b),a.trigger("page.meta.updated",b)):(a.trigger("page.meta.empty",b),console.warn("Page meta update found no data."))},error:function(a){console.error("Erro ao carregar meta dados.");
console.log(a)},complete:function(a){console.groupEnd()}});return this},setData:function(a){c.extend(this.pageLoadData,a)}});return f.pageIt})(window.jQuery||!1,window,document);
